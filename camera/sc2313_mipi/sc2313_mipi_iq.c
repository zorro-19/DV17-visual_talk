

#include "asm/isp_alg.h"
#include "sc2313_mipi_iq.h"
/*
static u8 gamma_curve[256] = {
    0,   1,   2,   3,   4,   6,   9,  12,  15,  19,  24,  28,  34,  39,  44,  50,
    55,  60,  64,  68,  72,  76,  79,  82,  85,  88,  91,  93,  95,  98, 100, 102,
    104, 106, 108, 109, 111, 113, 114, 116, 118, 119, 121, 122, 124, 125, 127, 128,
    129, 131, 132, 134, 135, 136, 138, 139, 140, 141, 143, 144, 145, 146, 148, 149,
    150, 151, 152, 154, 155, 156, 157, 158, 159, 161, 162, 163, 164, 165, 166, 167,
    168, 169, 170, 171, 172, 173, 174, 176, 177, 178, 179, 180, 180, 181, 182, 183,
    184, 185, 186, 187, 188, 189, 190, 191, 191, 192, 193, 194, 195, 196, 196, 197,
    198, 199, 199, 200, 201, 202, 202, 203, 204, 204, 205, 206, 206, 207, 207, 208,
    209, 209, 210, 210, 211, 211, 212, 212, 213, 213, 214, 214, 215, 215, 216, 216,
    217, 217, 218, 218, 219, 219, 220, 220, 221, 221, 222, 222, 223, 223, 224, 224,
    225, 225, 226, 226, 227, 227, 228, 228, 229, 229, 230, 230, 231, 231, 232, 232,
    233, 233, 233, 234, 234, 235, 235, 236, 236, 236, 237, 237, 238, 238, 239, 239,
    239, 240, 240, 240, 241, 241, 242, 242, 242, 243, 243, 243, 244, 244, 244, 245,
    245, 245, 246, 246, 246, 246, 247, 247, 247, 248, 248, 248, 248, 249, 249, 249,
    249, 250, 250, 250, 250, 251, 251, 251, 251, 251, 252, 252, 252, 252, 252, 253,
    253, 253, 253, 253, 253, 254, 254, 254, 254, 254, 254, 254, 255, 255, 255, 255,

};*/
/*
static u8 gamma_curve[256] = {
    0,    7,   13,   19,   24,   29,   34,   39,   43,   47,   51,   55,   58,   61,   65,   68,
   71,   74,   77,   79,   82,   85,   87,   89,   92,   94,   96,   98,  101,  103,  105,  107,
  108,  110,  112,  114,  116,  117,  119,  120,  122,  123,  125,  126,  128,  129,  131,  132,
  133,  135,  136,  137,  138,  140,  141,  142,  143,  144,  145,  146,  147,  148,  149,  150,
  151,  152,  153,  154,  155,  156,  157,  158,  159,  160,  160,  161,  162,  163,  164,  164,
  165,  166,  167,  167,  168,  169,  170,  170,  171,  172,  172,  173,  174,  174,  175,  175,
  176,  177,  177,  178,  178,  179,  180,  180,  181,  181,  182,  182,  183,  183,  184,  185,
  185,  186,  186,  187,  187,  188,  188,  189,  189,  190,  190,  191,  191,  192,  192,  192,
  193,  193,  194,  194,  195,  195,  196,  196,  197,  197,  197,  198,  198,  199,  199,  200,
  200,  201,  201,  201,  202,  202,  203,  203,  204,  204,  205,  205,  205,  206,  206,  207,
  207,  208,  208,  208,  209,  209,  210,  210,  211,  211,  212,  212,  212,  213,  213,  214,
  214,  215,  215,  216,  216,  216,  217,  217,  218,  218,  219,  219,  220,  220,  221,  221,
  222,  222,  222,  223,  223,  224,  224,  225,  225,  226,  226,  227,  227,  228,  228,  229,
  229,  230,  230,  231,  231,  232,  232,  233,  233,  234,  234,  235,  236,  236,  237,  237,
  238,  238,  239,  239,  240,  240,  241,  241,  242,  242,  243,  244,  244,  245,  245,  246,
  246,  247,  248,  248,  249,  249,  250,  250,  251,  252,  252,  253,  253,  254,  254,  255
};*/
static u8 gamma_curve[256] = {
    0,    0,    1,    1,    2,    4,    5,    7,    9,   11,   13,   16,   18,   21,   24,   27,
    30,   33,   36,   39,   42,   45,   49,   52,   55,   58,   61,   64,   67,   70,   73,   76,
    79,   82,   85,   87,   90,   93,   95,   98,  100,  103,  105,  108,  110,  113,  115,  117,
    119,  122,  124,  126,  128,  130,  132,  134,  136,  138,  140,  141,  143,  145,  147,  148,
    150,  152,  153,  155,  156,  158,  160,  161,  162,  164,  165,  167,  168,  169,  171,  172,
    173,  175,  176,  177,  178,  179,  181,  182,  183,  184,  185,  186,  187,  188,  189,  190,
    191,  192,  193,  194,  195,  196,  197,  198,  198,  199,  200,  201,  202,  203,  203,  204,
    205,  206,  206,  207,  208,  208,  209,  210,  211,  211,  212,  213,  213,  214,  214,  215,
    216,  216,  217,  217,  218,  218,  219,  220,  220,  221,  221,  222,  222,  223,  223,  224,
    224,  224,  225,  225,  226,  226,  227,  227,  228,  228,  228,  229,  229,  230,  230,  230,
    231,  231,  231,  232,  232,  233,  233,  233,  234,  234,  234,  235,  235,  235,  236,  236,
    236,  236,  237,  237,  237,  238,  238,  238,  238,  239,  239,  239,  240,  240,  240,  240,
    241,  241,  241,  241,  242,  242,  242,  242,  243,  243,  243,  243,  244,  244,  244,  244,
    245,  245,  245,  245,  246,  246,  246,  246,  246,  247,  247,  247,  247,  248,  248,  248,
    248,  248,  249,  249,  249,  249,  250,  250,  250,  250,  250,  251,  251,  251,  251,  251,
    252,  252,  252,  252,  253,  253,  253,  253,  253,  254,  254,  254,  254,  255,  255,  255
};
static u8 s_tabel[256] = {
    0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 2, 2, 2, 3,
    3, 4, 4, 5, 5, 6, 6, 7, 8, 8, 9, 10, 10, 11, 12, 13,
    14, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28,
    29, 30, 31, 33, 34, 35, 36, 37, 38, 40, 41, 42, 43, 45, 46, 47,
    49, 50, 51, 53, 54, 55, 57, 58, 59, 61, 62, 64, 65, 67, 68, 69,
    71, 72, 74, 75, 77, 78, 80, 81, 83, 84, 86, 87, 89, 90, 92, 93,
    95, 96, 98, 99, 101, 102, 104, 105, 107, 109, 110, 112, 113, 115, 116, 118,
    119, 121, 122, 124, 125, 127, 129, 130, 132, 133, 135, 136, 138, 139, 141, 142,
    144, 145, 147, 148, 150, 151, 153, 154, 156, 157, 158, 160, 161, 163, 164, 166,
    167, 168, 170, 171, 173, 174, 175, 177, 178, 179, 181, 182, 183, 185, 186, 187,
    189, 190, 191, 192, 194, 195, 196, 197, 199, 200, 201, 202, 203, 204, 206, 207,
    208, 209, 210, 211, 212, 213, 214, 215, 216, 218, 219, 220, 221, 221, 222, 223,
    224, 225, 226, 227, 228, 229, 230, 230, 231, 232, 233, 234, 235, 235, 236, 237,
    237, 238, 239, 240, 240, 241, 241, 242, 243, 243, 244, 244, 245, 246, 246, 247,
    247, 247, 248, 248, 249, 249, 250, 250, 250, 251, 251, 251, 252, 252, 252, 252,
    253, 253, 253, 253, 254, 254, 254, 254, 254, 254, 254, 254, 254, 254, 254, 255
};
/*static u8 wdr_gamma[256]={ 0,   85,  109,  124,  135,  144,  152,  158,  163,  168,  172,  176,  179,  182,  185,  188,
  190,  192,  194,  196,  198,  199,  201,  202,  203,  205,  206,  207,  208,  209,  210,  211,
  212,  212,  213,  214,  215,  215,  216,  217,  217,  218,  218,  219,  219,  220,  220,  221,
  221,  221,  222,  222,  222,  223,  223,  223,  224,  224,  224,  225,  225,  225,  225,  226,
  226,  226,  226,  227,  227,  227,  227,  227,  228,  228,  228,  228,  228,  229,  229,  229,
  229,  229,  229,  230,  230,  230,  230,  230,  230,  230,  231,  231,  231,  231,  231,  231,
  231,  232,  232,  232,  232,  232,  232,  232,  232,  233,  233,  233,  233,  233,  233,  233,
  233,  234,  234,  234,  234,  234,  234,  234,  234,  234,  235,  235,  235,  235,  235,  235,
  235,  235,  236,  236,  236,  236,  236,  236,  236,  236,  236,  237,  237,  237,  237,  237,
  237,  237,  237,  238,  238,  238,  238,  238,  238,  238,  238,  239,  239,  239,  239,  239,
  239,  239,  240,  240,  240,  240,  240,  240,  240,  240,  241,  241,  241,  241,  241,  241,
  241,  242,  242,  242,  242,  242,  242,  242,  243,  243,  243,  243,  243,  243,  244,  244,
  244,  244,  244,  244,  244,  245,  245,  245,  245,  245,  245,  246,  246,  246,  246,  246,
  246,  247,  247,  247,  247,  247,  247,  248,  248,  248,  248,  248,  248,  249,  249,  249,
  249,  249,  250,  250,  250,  250,  250,  250,  251,  251,  251,  251,  251,  252,  252,  252,
  252,  252,  252,  253,  253,  253,  253,  253,  254,  254,  254,  254,  254,  255,  255,  255
};*/
static u8 wdr_gamma[256] = { 0,   14,   26,   35,   44,   51,   58,   65,   70,   76,   81,   86,   90,   94,   99,  102,
                             106,  110,  113,  116,  119,  122,  125,  128,  130,  133,  135,  137,  140,  142,  144,  146,
                             148,  150,  152,  154,  155,  157,  159,  160,  162,  163,  165,  166,  168,  169,  170,  171,
                             173,  174,  175,  176,  177,  178,  179,  180,  181,  182,  183,  184,  185,  186,  187,  188,
                             188,  189,  190,  191,  191,  192,  193,  193,  194,  195,  195,  196,  197,  197,  198,  198,
                             199,  199,  200,  200,  201,  201,  202,  202,  203,  203,  204,  204,  204,  205,  205,  206,
                             206,  206,  207,  207,  207,  208,  208,  208,  209,  209,  209,  210,  210,  210,  211,  211,
                             211,  211,  212,  212,  212,  212,  213,  213,  213,  213,  214,  214,  214,  214,  215,  215,
                             215,  215,  215,  216,  216,  216,  216,  217,  217,  217,  217,  217,  218,  218,  218,  218,
                             218,  219,  219,  219,  219,  219,  220,  220,  220,  220,  220,  221,  221,  221,  221,  221,
                             222,  222,  222,  222,  222,  223,  223,  223,  223,  224,  224,  224,  224,  224,  225,  225,
                             225,  225,  226,  226,  226,  226,  227,  227,  227,  227,  228,  228,  228,  228,  229,  229,
                             229,  229,  230,  230,  230,  231,  231,  231,  232,  232,  232,  232,  233,  233,  233,  234,
                             234,  234,  235,  235,  235,  236,  236,  237,  237,  237,  238,  238,  238,  239,  239,  240,
                             240,  240,  241,  241,  242,  242,  243,  243,  243,  244,  244,  245,  245,  246,  246,  247,
                             247,  248,  248,  249,  249,  250,  250,  251,  251,  252,  252,  253,  253,  254,  254,  255
                           };
/*static u8 wdr_gamma[256]={  0,   15,   31,   47,   63,   79,   95,  111,  127,  143,  159,  175,  191,  207,  223,  239,
255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,
255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,
255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,
255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,
255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,
255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,
255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,
255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,
255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,
255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,
255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,
255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,
255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,
255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,
255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255,  255
};*/
static s16 hsv_lut[] = {

    0, 512,  //0
    0, 512,  //15
    0, 512,  //30
    0, 512,  //45
    0, 512,  //60
    0, 512,  //75
    0, 512,  //90
    0, 512,  //105
    0, 512,  //120
    0, 512,  //135
    0, 512,  //150
    0, 512,  //165
    0, 512,  //180
    0, 512,  //195
    0, 512,  //210
    0, 512,  //225
    0, 512,  //240
    0, 512,  //255
    0, 512,  //270
    0, 512,  //285
    0, 512,  //300
    0, 512,  //315
    0, 512,  //330
    0, 512   //345

};

static isp_iq_params_t sc2313_mipi_iq_params = {
    .blc = {
        0, 0, 0, 0,
    },

    .lsc = {
        0, 0, 0, 0, 0, 0, 0, 0,
    },

    .wdr = {0, wdr_gamma},
    .ltmo = {0, 0, 250},

    .adj = {
        0x100, 0x100, 0x100, 0, 0, 0, 512, 0,
        15, 30, 200, 230, 50, 0 // chroma supress
    },

    .gamma = NULL,//0,// gamma_curve,


    .ccm = {
        0x100,   0x00,   0x00,   0x00,
        0x00,   0x100,   0x00,   0x00,
        0x00,    0x00,   0x100,   0x00,
    },

    .hsv = {
        0, 0, 256, 5, 25, 1, hsv_lut
    },


    .bnr =   {
        0, 15, 0, 12, 20,
        {384, 384, 256, 127, 127, 127, 127},
        {64, 96, 127, 127, 127, 127, 127}
    },
    .dpc =   {(3 << 4), (4 << 4), (5 << 4)},
    .tnr =   {0, 20, 48, 5, 0, 25, 2, 1023, 1023},
    .nr =    {
        0, 0, 23, 48, 1, 0,
        960, 540, 39, 15, 15 //radial compesation
    },
    .shp =   {
        0, 15, 1, 127, 50, 50, 50, 50, 8, 32, 8, 32, 8, 8, 20, 1, 10,
        {30, 50, 80, 127, 127, 127, 127, 127},
        //{-1, -1, -1, -1, -2, -2, -1, -2, 32},
        //{0, -1, -2, -1, 0, 2, -2, 2, 8},
        {0, 0, 0, 0, 0, 0, -2, 1, 2},
        {0, 0, -2, 0, 0, 1, 0, 0, 2},
        0, 0, 1, 15, 15
    },
    .cnr =   {0, 255, 78},
    .hdr = {
        200, 200, 3750, 0, 0, s_tabel
    },

    .md_wms = {100, 130, 180, 250, 400},
    .md_level = 3,
};

void *sc2313_mipi_get_iq_params()
{
    return (void *)&sc2313_mipi_iq_params;
}

